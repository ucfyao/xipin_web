"use strict";!function(e,l){var n={hide_selector:".symbol-row,.symbol1-row,.symbol2-row,.symbols-row,.currency-row,.currency1-row,.currency2-row,.currency3-row,.url-row,.target-row,.initial-row,.count-row, .show_logo-row",all_fields:["shortcode","color","fullwidth","symbol","symbol1","symbol2","symbols","currency","currency1","currency2","currency3","url","target","initial","count","show_logo"],fields:{"price-label":["symbol","currency","url","target","show_logo"],"change-label":["symbol","url","target","show_logo"],"price-big-label":["symbol","currency1","currency2","currency3","url","target","show_logo"],"change-big-label":["symbol","url","target","show_logo"],"price-card":["symbol","currency1","currency2","currency3","url","target","show_logo"],"change-card":["symbol","url","target","show_logo"],"full-card":["symbol","currency1","currency2","currency3","url","target","show_logo"],converter:["symbol1","symbol2","initial"],table:["currency","symbols","count"],"small-table":["currency","symbols","count"]},elements:null,attach:function(e,r,o){e.submit(!1);var c=n.elements={form:e,submit:e.find(".render-submit"),shortcode:e.find("[name=shortcode]"),preview:r,code:o};c.shortcode.on("change keyup paste",function(){return n.refresh()}),c.submit.click(function(){return n.render()})},hideFields:function(){n.elements.form.find(this.hide_selector).hide()},showFields:function(){var e=n.elements.shortcode.val(),r=n.fields[e].map(function(e,r){return"."+e+"-row"}).join(",");n.elements.form.find(r).show()},refresh:function(){n.hideFields(),n.showFields()},callRender:function(r){var o=n.elements,c={type:"POST",url:l.ajax_url,data:{action:"vcw_render"}};n.all_fields.forEach(function(e){c.data[e]=o.form.find("[name="+e+"]").val()}),e.ajax(c).done(function(e){e&&e.html&&e.code&&r(e.html,e.code)})},render:function(){var o=n.elements;n.callRender(function(e,r){o.preview.html(e),l.compile(o.preview),o.code.find("textarea").val(r)})}};e(function(){e("#vcw-admin-page").length&&(n.attach(e("#vcw-admin-builder"),e("#vcw-admin-preview"),e("#vcw-admin-code")),n.refresh())})}(jQuery,VirtualCoinWidgets);