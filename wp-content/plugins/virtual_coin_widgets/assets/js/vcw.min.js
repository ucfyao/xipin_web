"use strict";!function(r,t,c){var e={};Object.keys(t.rates).forEach(function(n){e[n]=t.rates[n].rate}),c.rates=e,c.base="BTC";var i={convert:function(n,t,e){return c(e).from(n).to(t)},priceFormat:function(e){if(e=parseFloat(e),isNaN(e))return null;if(1e4<=e)return e.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",");if(1e3<=e)return e.toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",");function n(){var n=Math.log10(e);if(1<=n)return e.toFixed(2);if(0<=n)return e.toFixed(3);var t=Math.ceil(Math.abs(n));return e.toFixed(t+3)}var t=n(n());return 1e4<=t?t.replace(/\B(?=(\d{3})+(?!\d))/g,","):t},convertFormatted:function(n,t,e){return this.priceFormat(this.convert(n,t,e))}},a={channels:{},io:null,connect:function(){a.io||(a.io=io.connect("https://coincap.io"),a.io.on("trades",function(n){var t=n.coin,e=n.msg.price,c=a.channels[t];Array.isArray(c)&&c.forEach(function(n){return n(e)})}))},addToChannel:function(n,t){this.connect(),Array.isArray(this.channels[n])?this.channels[n].push(t):this.channels[n]=[t]}};t.compile=function(n){n.find(".vcw price-output").vcwPriceOutput(),n.find(".vcw-price-label, .vcw-change-label, .vcw-price-big-label, .vcw-change-big-label, .vcw-price-card, .vcw-change-card, .vcw-full-card").vcwLink(),n.find(".vcw-converter").vcwConverter()},r.fn.extend({vcwPriceOutput:function(){this.each(function(){var e=r(this),n=e.data("code"),c=e.data("currency");a.addToChannel(n,function(n){var t=i.priceFormat(i.convert("USD",c,n));e.fadeOut(function(){r(this).text(t).fadeIn()})})})},vcwLink:function(){this.each(function(){var n=r(this),t=n.data("url"),e=n.data("target");t&&n.click(function(){return window.open(t,e)})})},vcwConverter:function(){this.each(function(){var n=r(this),t=n.find(".vcw-currency-1"),e=n.find(".vcw-currency-2"),c=n.find(".vcw-value-1"),a=n.find(".vcw-value-2");t.on("change paste keyup",function(){var n=i.convertFormatted(e.val(),t.val(),a.val());c.val(n)}),c.on("change paste keyup",function(){var n=i.convertFormatted(t.val(),e.val(),c.val());a.val(n)}),e.on("change paste keyup",function(){var n=i.convertFormatted(t.val(),e.val(),c.val());a.val(n)}),a.on("change paste keyup",function(){var n=i.convertFormatted(e.val(),t.val(),a.val());c.val(n)}),a.val(i.convertFormatted(t.val(),e.val(),c.val()))})}}),r(function(){t.compile(r(document))})}(jQuery,VirtualCoinWidgets,fx);